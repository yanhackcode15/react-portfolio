"use strict";(self.webpackChunkreact_portfolio=self.webpackChunkreact_portfolio||[]).push([[8326],{8326:function(t,n,e){e.r(n),e.d(n,{PolygonMaskInstance:function(){return f}});var a=e(4165),r=e(5861),i=e(7762),o=e(5671),s=e(3144),l=e(450),u=e(4428),c="".concat(l.gK," No polygon data loaded."),h="".concat(l.gK," No polygon found, you need to specify SVG url in config."),d=0,v=0,p=.5,f=function(){function t(n,s){var f=this;(0,o.Z)(this,t),this._checkInsidePolygon=function(t){var n,e,a=f._container,r=a.actualOptions.polygon;if(null===r||void 0===r||!r.enable||"none"===r.type||"inline"===r.type)return!0;if(!f.raw)throw new Error(h);for(var i=a.canvas.size,o=null!==(n=null===t||void 0===t?void 0:t.x)&&void 0!==n?n:(0,l.sZ)()*i.width,s=null!==(e=null===t||void 0===t?void 0:t.y)&&void 0!==e?e:(0,l.sZ)()*i.height,u=!1,c=0,d=f.raw.length-1;c<f.raw.length;d=c++){var v=f.raw[c],p=f.raw[d];v.y>s!==p.y>s&&o<(p.x-v.x)*(s-v.y)/(p.y-v.y)+v.x&&(u=!u)}return"inside"===r.type?u:"outside"===r.type&&!u},this._createPath2D=function(){var t;if(f._container.actualOptions.polygon&&null!==(t=f.paths)&&void 0!==t&&t.length){var n,e=(0,i.Z)(f.paths);try{var a=function(){var t,e,a=n.value,r=null===(t=a.element)||void 0===t?void 0:t.getAttribute("d");if(r){var i=new Path2D(r),o=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),s=new Path2D,l=o.scale(f._scale);s.addPath?(s.addPath(i,l),a.path2d=s):delete a.path2d}else delete a.path2d;if(null!==(e=a.path2d)&&void 0!==e?e:!f.raw)return"continue";a.path2d=new Path2D;var u=f.raw[0];a.path2d.moveTo(u.x,u.y),f.raw.forEach((function(t,n){var e;n>0&&(null===(e=a.path2d)||void 0===e||e.lineTo(t.x,t.y))})),a.path2d.closePath()};for(e.s();!(n=e.n()).done;)a()}catch(r){e.e(r)}finally{e.f()}}},this._downloadSvgPath=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n,e){var r,i,o,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f._container.actualOptions.polygon){t.next=3;break}return t.abrupt("return");case 3:if(i=null!==n&&void 0!==n?n:r.url,o=null!==e&&void 0!==e&&e,i&&(void 0===f.paths||o)){t.next=6;break}return t.abrupt("return",f.raw);case 6:return t.next=8,fetch(i);case 8:if((s=t.sent).ok){t.next=11;break}throw new Error("".concat(l.gK," occurred during polygon mask download"));case 11:return t.t0=f,t.next=14,s.text();case 14:return t.t1=t.sent,t.t2=e,t.next=18,t.t0._parseSvgPath.call(t.t0,t.t1,t.t2);case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),this._drawPoints=function(){if(f.raw){var t,n=(0,i.Z)(f.raw);try{for(n.s();!(t=n.n()).done;){var e=t.value;f._container.particles.addParticle({x:e.x,y:e.y})}}catch(a){n.e(a)}finally{n.f()}}},this._getEquidistantPointByIndex=function(t){var n,e,a,r,o,s,l,u,h,p,y=f._container.actualOptions;if(y.polygon){if(null===(n=f.raw)||void 0===n||!n.length||null===(e=f.paths)||void 0===e||!e.length)throw new Error(c);var g,w,_=0,x=f.paths.reduce((function(t,n){return t+n.length}),0),P=x/y.particles.number.value,m=(0,i.Z)(f.paths);try{for(m.s();!(w=m.n()).done;){var T=w.value,k=P*t-_;if(k<=T.length){g=T.element.getPointAtLength(k);break}_+=T.length}}catch(O){m.e(O)}finally{m.f()}var E=f._scale;return{x:(null!==(a=null===(r=g)||void 0===r?void 0:r.x)&&void 0!==a?a:d)*E+(null!==(o=null===(s=f.offset)||void 0===s?void 0:s.x)&&void 0!==o?o:d),y:(null!==(l=null===(u=g)||void 0===u?void 0:u.y)&&void 0!==l?l:v)*E+(null!==(h=null===(p=f.offset)||void 0===p?void 0:p.y)&&void 0!==h?h:v)}}},this._getPointByIndex=function(t){var n;if(null===(n=f.raw)||void 0===n||!n.length)throw new Error(c);var e=f.raw[t%f.raw.length];return{x:e.x,y:e.y}},this._getRandomPoint=function(){var t;if(null===(t=f.raw)||void 0===t||!t.length)throw new Error(c);var n=(0,l.c8)(f.raw);return{x:n.x,y:n.y}},this._getRandomPointByLength=function(){var t,n,e,a,r,i;if(f._container.actualOptions.polygon){if(null===(t=f.raw)||void 0===t||!t.length||null===(n=f.paths)||void 0===n||!n.length)throw new Error(c);var o=(0,l.c8)(f.paths),s=Math.floor((0,l.sZ)()*o.length)+1,u=o.element.getPointAtLength(s),h=f._scale;return{x:u.x*h+(null!==(e=null===(a=f.offset)||void 0===a?void 0:a.x)&&void 0!==e?e:d),y:u.y*h+(null!==(r=null===(i=f.offset)||void 0===i?void 0:i.y)&&void 0!==r?r:v)}}},this._initRawData=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){var e,r,i,o,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=f._container.actualOptions.polygon){t.next=3;break}return t.abrupt("return");case 3:if(!e.url){t.next=9;break}return t.next=6,f._downloadSvgPath(e.url,n);case 6:f.raw=t.sent,t.next=15;break;case 9:if(!e.data){t.next=15;break}return r=e.data,(0,l.HD)(r)?i=r:(o=function(t){return'<path d="'.concat(t,'" />')},s=(0,l.kJ)(r.path)?r.path.map(o).join(""):o(r.path),'xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"',i="<svg ".concat('xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"',' width="').concat(r.size.width,'" height="').concat(r.size.height,'">').concat(s,"</svg>")),t.next=14,f._parseSvgPath(i,n);case 14:f.raw=t.sent;case 15:f._createPath2D(),f._engine.dispatchEvent("polygonMaskLoaded",{container:f._container});case 17:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),this._parseSvgPath=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n,r){var i,o,s,u,c,h,d,v,y,g,w,_,x,P,m,T,k;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null!==r&&void 0!==r&&r,void 0===f.paths||u){t.next=3;break}return t.abrupt("return",f.raw);case 3:if(c=f._container,h=c.actualOptions.polygon){t.next=6;break}return t.abrupt("return");case 6:for(d=new DOMParser,v=d.parseFromString(n,"image/svg+xml"),0,y=v.getElementsByTagName("svg")[0],(g=y.getElementsByTagName("path")).length||(g=v.getElementsByTagName("path")),f.paths=[],w=0;w<g.length;w++)(_=g.item(w))&&f.paths.push({element:_,length:_.getTotalLength()});return x=f._scale,f.dimension.width=parseFloat(null!==(i=y.getAttribute("width"))&&void 0!==i?i:"0")*x,f.dimension.height=parseFloat(null!==(o=y.getAttribute("height"))&&void 0!==o?o:"0")*x,P=null!==(s=h.position)&&void 0!==s?s:{x:50,y:50},m=c.canvas.size,f.offset={x:m.width*P.x/l.tZ-f.dimension.width*p,y:m.height*P.y/l.tZ-f.dimension.height*p},t.next=18,Promise.resolve().then(e.bind(e,4428));case 18:return T=t.sent,k=T.parsePaths,t.abrupt("return",k(f.paths,x,f.offset));case 21:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),this._polygonBounce=function(t,n,e){var a=f._container.actualOptions.polygon;if(!f.raw||null===a||void 0===a||!a.enable||"top"!==e)return!1;if("inside"===a.type||"outside"===a.type){for(var r,i,o,s=t.getPosition(),c=t.getRadius(),h=0,d=f.raw.length-1;h<f.raw.length;d=h++){var v=f.raw[h],y=f.raw[d];r=(0,u.calcClosestPointOnSegment)(v,y,s);var g=(0,l.oW)(s,r),w=[g.dx,g.dy];if(i=w[0],o=w[1],g.distance<c)return(0,u.segmentBounce)(v,y,t.velocity),!0}if(r&&void 0!==i&&void 0!==o&&!f._checkInsidePolygon(s)){var _={x:1,y:1},x=2*c;return s.x>=r.x&&(_.x=-1),s.y>=r.y&&(_.y=-1),t.position.x=r.x+x*_.x,t.position.y=r.y+x*_.y,t.velocity.mult(-1),!0}}else if("inline"===a.type&&t.initialPosition){var P=(0,l.Sp)(t.initialPosition,t.getPosition()),m=t.velocity;if(P>f._moveRadius)return m.x=m.y*p-m.x,m.y=m.x*p-m.y,!0}return!1},this._randomPoint=function(){var t=f._container,n=t.actualOptions.polygon;if(n){var e;if("inline"===n.type)switch(n.inline.arrangement){case"random-point":e=f._getRandomPoint();break;case"random-length":e=f._getRandomPointByLength();break;case"equidistant":e=f._getEquidistantPointByIndex(t.particles.count);break;default:e=f._getPointByIndex(t.particles.count)}else{var a=t.canvas.size;e={x:(0,l.sZ)()*a.width,y:(0,l.sZ)()*a.height}}return f._checkInsidePolygon(e)?e:f._randomPoint()}},this._container=n,this._engine=s,this.dimension={height:0,width:0},this._moveRadius=0,this._scale=1}return(0,s.Z)(t,[{key:"clickPositionValid",value:function(t){var n=this._container.actualOptions.polygon;return!(null===n||void 0===n||!n.enable)&&"none"!==n.type&&"inline"!==n.type&&this._checkInsidePolygon(t)}},{key:"draw",value:function(t){var n;if(null!==(n=this.paths)&&void 0!==n&&n.length){var e=this._container.actualOptions.polygon;if(null!==e&&void 0!==e&&e.enable){var a=e.draw;if(a.enable){var r,o=this.raw,s=(0,i.Z)(this.paths);try{for(s.s();!(r=s.n()).done;){var l=r.value.path2d;t&&(l&&this.offset?(0,u.drawPolygonMaskPath)(t,l,a.stroke,this.offset):o&&(0,u.drawPolygonMask)(t,o,a.stroke))}}catch(c){s.e(c)}finally{s.f()}}}}}},{key:"init",value:function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){var n,e,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._container,e=n.actualOptions.polygon,r=n.retina.pixelRatio,e){t.next=3;break}return t.abrupt("return");case 3:if(this._moveRadius=e.move.radius*r,this._scale=e.scale*r,!e.enable){t.next=8;break}return t.next=8,this._initRawData();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"particleBounce",value:function(t,n,e){return this._polygonBounce(t,n,e)}},{key:"particlePosition",value:function(t){var n,e,a=this._container.actualOptions.polygon;if(null!==a&&void 0!==a&&a.enable&&(null!==(n=null===(e=this.raw)||void 0===e?void 0:e.length)&&void 0!==n?n:0)>0)return(0,l.ZB)({},t||this._randomPoint())}},{key:"particlesInitialization",value:function(){var t=this._container.actualOptions.polygon;return!(null===t||void 0===t||!t.enable||"inline"!==t.type||"one-per-point"!==t.inline.arrangement&&"per-point"!==t.inline.arrangement)&&(this._drawPoints(),!0)}},{key:"resize",value:function(){var t=this,n=this._container,e=n.actualOptions.polygon;if(null!==e&&void 0!==e&&e.enable&&"none"!==e.type){this.redrawTimeout&&clearTimeout(this.redrawTimeout);this.redrawTimeout=window.setTimeout((function(){(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initRawData(!0);case 2:return e.next=4,n.particles.redraw();case 4:case"end":return e.stop()}}),e)})))()}),250)}}},{key:"stop",value:function(){delete this.raw,delete this.paths}}]),t}()},4428:function(t,n,e){e.r(n),e.d(n,{calcClosestPointOnSegment:function(){return c},drawPolygonMask:function(){return s},drawPolygonMaskPath:function(){return l},parsePaths:function(){return u},segmentBounce:function(){return h}});var a=e(7762),r=e(450),i=0,o=1;function s(t,n,e){var i=(0,r.tX)(e.color);if(i){var o=n[0];t.beginPath(),t.moveTo(o.x,o.y);var s,l=(0,a.Z)(n);try{for(l.s();!(s=l.n()).done;){var u=s.value;t.lineTo(u.x,u.y)}}catch(c){l.e(c)}finally{l.f()}t.closePath(),t.strokeStyle=(0,r.iz)(i),t.lineWidth=e.width,t.stroke()}}function l(t,n,e,a){var i=1,o=0,s=0,l=1;t.setTransform(i,o,s,l,a.x,a.y);var u=(0,r.tX)(e.color);u&&(t.strokeStyle=(0,r.iz)(u,e.opacity),t.lineWidth=e.width,t.stroke(n),t.resetTransform())}function u(t,n,e){var r,i=[],o=(0,a.Z)(t);try{for(o.s();!(r=o.n()).done;)for(var s,l=r.value.element.pathSegList,u=null!==(s=null===l||void 0===l?void 0:l.numberOfItems)&&void 0!==s?s:0,c={x:0,y:0},h=0;h<u;h++){var d=null===l||void 0===l?void 0:l.getItem(h),v=window.SVGPathSeg;switch(null===d||void 0===d?void 0:d.pathSegType){case v.PATHSEG_MOVETO_ABS:case v.PATHSEG_LINETO_ABS:case v.PATHSEG_CURVETO_CUBIC_ABS:case v.PATHSEG_CURVETO_QUADRATIC_ABS:case v.PATHSEG_ARC_ABS:case v.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case v.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:var p=d;c.x=p.x,c.y=p.y;break;case v.PATHSEG_LINETO_HORIZONTAL_ABS:c.x=d.x;break;case v.PATHSEG_LINETO_VERTICAL_ABS:c.y=d.y;break;case v.PATHSEG_LINETO_REL:case v.PATHSEG_MOVETO_REL:case v.PATHSEG_CURVETO_CUBIC_REL:case v.PATHSEG_CURVETO_QUADRATIC_REL:case v.PATHSEG_ARC_REL:case v.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case v.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:var f=d;c.x+=f.x,c.y+=f.y;break;case v.PATHSEG_LINETO_HORIZONTAL_REL:c.x+=d.x;break;case v.PATHSEG_LINETO_VERTICAL_REL:c.y+=d.y;break;case v.PATHSEG_UNKNOWN:case v.PATHSEG_CLOSEPATH:continue}i.push({x:c.x*n+e.x,y:c.y*n+e.y})}}catch(y){o.e(y)}finally{o.f()}return i}function c(t,n,e){var a=(0,r.oW)(e,t),s=a.dx,l=a.dy,u=(0,r.oW)(n,t),c=u.dx,h=u.dy,d=(s*c+l*h)/(Math.pow(c,2)+Math.pow(h,2)),v={x:t.x+c*d,y:t.y+h*d,isOnSegment:d>=i&&d<=o};return d<i?(v.x=t.x,v.y=t.y):d>o&&(v.x=n.x,v.y=n.y),v}function h(t,n,e){var a=(0,r.oW)(t,n),i=a.dx,o=a.dy,s=Math.atan2(o,i),l=r.OW.create(Math.sin(s),-Math.cos(s)),u=2*(e.x*l.x+e.y*l.y);l.multTo(u),e.subFrom(l)}}}]);